
{% extends 'base.html' %}
{% block content %}
<div class="container mt-4">
  <h4 class="text-primary mb-3">
    Assign Subjects â€“ {{ t.first_name }} {% if t.Middle_name %}{{ t.Middle_name }}{% endif %} {{ t.last_name }} ({{ t.initials }})
  </h4>

  <form method="post" class="border rounded p-3 bg-white">
    <div class="row g-3">
      <div class="col-md-4">
        <label class="form-label">Class</label>
        <select name="class_name" class="form-select">
          {% for c in classes %}
            <option value="{{ c }}" {% if t.class_name==c %}selected{% endif %}>{{ c }}</option>
          {% endfor %}
        </select>
      </div>

      <div class="col-12">
        <label class="form-label">Subjects (choose many)</label>
        <div class="row row-cols-2 row-cols-md-3 g-2">
          {% for s in subjects %}
            <div class="col">
              <label class="form-check">
                <input class="form-check-input" type="checkbox" name="subject_ids" value="{{ s.id }}"
                       {% if s.id in assigned %}checked{% endif %}>
                <span class="form-check-label">{{ s.name }}{% if s.code %} ({{ s.code }}){% endif %}</span>
              </label>
            </div>
          {% endfor %}
        </div>
      </div>
    </div>

    <div class="text-end mt-3">
      <a class="btn btn-outline-secondary" href="{{ url_for('manage_teachers') }}">Cancel</a>
      <button class="btn btn-primary">Save Assignments</button>
    </div>
  </form>
</div>
{% endblock %}
